<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pivot.aham.api.service.mapper.PivotPftAssetMapper">

    <resultMap id="PivotPftAssetRes" type="com.pivot.aham.api.service.mapper.model.PivotPftAssetPO">
        <result property="id" column="id"></result>
        <result property="productCode" column="product_code"></result>
        <result property="confirmShare" column="confirm_share"></result>
        <result property="confirmMoney" column="confirm_money"></result>
        <result property="executeOrderNo" column="execute_order_no"></result>
        <result property="executeTime" column="execute_time"></result>
        <result property="createTime" column="create_time"></result>
        <result property="updateTime" column="update_time"></result>
        <result property="pftAssetSource" column="pft_asset_source"></result>
        <result property="productAssetStatus" column="product_asset_status"></result>
    </resultMap>

    <sql id="Columns">
        id, product_code, confirm_share, confirm_money, 
        product_asset_status, execute_order_no, execute_time, 
        create_time, pft_asset_source, update_time
    </sql>

    <select id="queryListByTime" resultMap="PivotPftAssetRes">
        SELECT
        <include refid="Columns"/>
        FROM t_pivot_pft_asset
        <where>
            <if test="@Ognl@isNotEmpty(executeTime)">
                <![CDATA[and execute_time<=#{executeTime}]]>
            </if>            
        </where>        
    </select>
</mapper>
